import{_ as p}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-Bpa4hz7b.js";import{_ as g}from"./CodeCaption-DFFHgjya.js";import{o as A,c as y,k as t,e as i,B as a,l,m as e,q as o,s as D,A as n}from"./modules/vue-B94B7V6J.js";import{_ as E}from"./default-b0m56UWc.js";import{u as B,f as u}from"./slidev/context-DV-y_y6P.js";import"./modules/unplugin-icons-aI5n-4mI.js";import"./index-DfJMBkQj.js";import"./modules/shiki-BpXW-QtO.js";const f={grid:"~ cols-2 gap-4"},C={__name:"slides.md__slidev_25",setup(c){const{$slidev:m,$nav:v,$clicksContext:r,$clicks:b,$page:_,$renderContext:$,$frontmatter:d}=B();return r.setup(),(P,s)=>{const k=g,h=p;return A(),y(E,o(D(n(u)(n(d),24))),{default:t(()=>[s[10]||(s[10]=i("h3",null,"プロバイダーの種類：AsyncNotifierProvider",-1)),s[11]||(s[11]=i("p",null,[i("code",null,"state"),a("を自由に変更できてしまうため、変更処理には気を付けないといけません。"),i("br"),i("span",{style:{"font-size":"0.8em",opacity:"0.8"}},[a("例えば、"),i("code",null,"FutureProvider"),a("では初回の非同期処理中にだけ"),i("code",null,"AsyncLoading"),a("になっていましたが、 "),i("code",null,"state"),a("に直接"),i("code",null,"AsyncLoading()"),a("を代入することで、任意のタイミングで"),i("code",null,"AsyncLoading"),a("になってしまいます。")]),i("br"),i("code",null,"AsyncValue"),a("を後から変更するための便利なメソッドはいくつか用意されているので、それらを駆使して実装しましょう。")],-1)),i("div",f,[i("div",null,[l(k,null,{default:t(()=>s[0]||(s[0]=[a("guard: 発生したエラーをAsyncErrorに変換、エラーがなければAsyncDataに変換")])),_:1}),l(h,e({},{ranges:[]}),{default:t(()=>s[1]||(s[1]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-dart"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"state "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," await"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}}," AsyncValue"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"guard"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"<"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"String"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},">(() "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"async"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," {")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  await"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}}," Future"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"<"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"dynamic"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},">"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"delayed"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"const"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}}," Duration"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"(seconds"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},":"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 1"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"))"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  return"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," 'Hello World'"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"})"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")])])],-1)])),_:1},16),s[4]||(s[4]=i("br",null,null,-1)),l(k,null,{default:t(()=>s[2]||(s[2]=[a("copyWithPrevious: 前回の状態を保持して更新")])),_:1}),l(h,e({},{ranges:[]}),{default:t(()=>s[3]||(s[3]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-dart"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// 再取得前にローディングにする")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"state "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," const"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}}," AsyncLoading"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"<"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"String"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},">()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"copyWithPrevious"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"(state)"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// 条件を変えて取得する前にローディングにする")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"state "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," const"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}}," AsyncLoading"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"<"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}},"String"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},">()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"copyWithPrevious"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"(")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"  state"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},",")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"  isRefresh"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},":"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," false"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},",")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")])])],-1)])),_:1},16)]),i("div",null,[l(k,null,{default:t(()=>s[5]||(s[5]=[a("whenData: stateがAsyncDataの時だけdataに変更を加える")])),_:1}),l(h,e({},{ranges:[]}),{default:t(()=>s[6]||(s[6]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-dart"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"state "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," state"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"whenData"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"((data) {")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  final"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," newString "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," '"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"$data"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"!'"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"  return"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," newString"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"})"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")])])],-1)])),_:1},16),s[9]||(s[9]=i("br",null,null,-1)),l(k,null,{default:t(()=>s[7]||(s[7]=[a("unwrapPrevious: 前回までの状態を消す")])),_:1}),l(h,e({},{ranges:[]}),{default:t(()=>s[8]||(s[8]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-dart"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"state "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," state"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"unwrapPrevious"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"()"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")])])],-1)])),_:1},16)])])]),_:1},16)}}},z=C;export{z as default};
